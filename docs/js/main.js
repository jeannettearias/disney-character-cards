const u=document.querySelector(".js__cardsUl"),r=document.querySelector(".js__favouritesUl"),v=document.querySelector(".js__searchInput"),g=document.querySelector(".js__searchBtn"),h=document.querySelector(".js__logBtn"),m="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney";let s=[],n=[];function d(e){return e.imageUrl===void 0&&(e.imageUrl=m),`
        <li class="js__card licards" data-id= "${e._id}">
            <div class = "liCardContent ">
                <img class = "imgLi" src="${e.imageUrl}" alt="Picture of ${e.name}">
                <p class = "nameLi">${e.name}</p>
                <p class = "cardDate">${e.updatedAt}</p>
            </div>
        </li>`}function f(e){let t="";for(const c of e)t+=d(c);u.innerHTML=t;const a=document.querySelectorAll(".js__card");for(const c of a)c.addEventListener("click",p)}function l(){let e="";for(const t of n)e+=d(t);r.innerHTML=e}function p(e){const t=parseInt(e.currentTarget.dataset.id),a=s.find(i=>i._id===t),c=n.findIndex(i=>i._id===t);c===-1?(n.push(a),localStorage.setItem("favs",JSON.stringify(n)),l()):(n.splice(c,1),localStorage.setItem("favs",JSON.stringify(n)),l())}function S(e){if(e.target.closest("li")!==null){const t=parseInt(e.target.closest("li").dataset.id);console.log(e.target.closest("li"));const a=n.findIndex(c=>c._id===t);n.splice(a,1),localStorage.setItem("favs",JSON.stringify(n)),l()}}r.addEventListener("click",S);function _(e){e.preventDefault();let t=n.length;console.log("Tienes "+t+" Favourites")}h.addEventListener("click",_);function I(){n.length=0,l(),localStorage.setItem("favs",JSON.stringify(n))}function C(e){I()}const L=document.getElementById("js__removeAllFavBtn");L.addEventListener("click",C);function k(e){e.preventDefault();const t=v.value.toLowerCase();fetch(`https://api.disneyapi.dev/character?pageSize=50&name=${t}`).then(a=>a.json()).then(a=>{let c=[];a.data.length<1||a.data.length===void 0?c.push(a.data):c=a.data,s=c,f(s)})}g.addEventListener("click",k);fetch("https://api.disneyapi.dev/character?pageSize=10").then(e=>e.json()).then(e=>{s=e.data,f(s)});const o=JSON.parse(localStorage.getItem("favs"));o!==null&&(n=o,l());
//# sourceMappingURL=main.js.map
